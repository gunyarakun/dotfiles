#!/bin/sh
# vim: set expandtab ts=2 sw=2 nowrap ft=sh ff=unix : */
set -e -u

uname=`uname`

# install basic module
case $uname in
  Darwin)
    # TODO: check whether Xcode is installed or not
    if [ ! -d /usr/local/Homebrew ]; then
      ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    fi
    brew update
    brew install vim --with-python
    brew install \
      git zsh \
      homebrew/dupes/zlib openssl sqlite libxml2 libxslt \
      gdbm readline \
      bison libyaml ncurses \
      go
    ;;
  Linux)
    if [ -f /etc/debian_version ]; then
      sudo apt-get update
      sudo apt-get install aptitude
      sudo aptitude install language-pack-en language-pack-ja
      sudo aptitude install build-essential git zsh curl sudo vim
      # For building some language
      sudo aptitude install zlib1g-dev libssl-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev
      # For building Python
      sudo aptitude install libgdbm-dev libbz2-dev libreadline-dev
      # For bulding Ruby
      sudo aptitude install bison libreadline6-dev libyaml-dev libncurses5-dev
    elif [ -f /etc/redhat-release ]; then
      sudo yum update
      sudo yum groupinstall "Development Tools"
      sudo yum install git zsh
    fi
    ;;
  FreeBSD)
    echo "To be implemented"
    exit 1
    ;;
esac
